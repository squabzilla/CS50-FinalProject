{% extends "layout.html" %}

{% block title %}Character View{% endblock %}

{% block header %}<h1>View your Character</h1>{% endblock %}

{% block main %}
<div class="container text-center">
    <div class="row align-items-start">
        <div class="col" name="character_basics" id="character_basics">
            <h2>Character name: {{pc_char.name}}</h2>
            <p>Race: {{pc_char.race_name}}</p>
            <p>Class: {{pc_char.level1_class_name}}</p>
            <p>Background: {{pc_char.background_name}}</p>
        </div>
        <div class="col" name="ability_scores" id="ability_scores">
            <h2>Ability Scores</h2>
            <p>Strength: {{pc_char.str_score}}</p>
            <p>Dexterity: {{pc_char.dex_score}}</p>
            <p>Constitution: {{pc_char.con_score}}</p>
            <p>Intelligence: {{pc_char.int_score}}</p>
            <p>Wisdom: {{pc_char.wis_score}}</p>
            <p>Charisma: {{pc_char.cha_score}}</p>
        </div>
    </div>
    <br>
    <div class="col" name="char_features" id="char_features">
        <h2 id="mainFeaturesHeader" name="mainFeaturesHeader">Features</h2>
    </div>
    {% if pc_char.has_int_spells or pc_char.has_wis_spells or pc_char.has_cha_spells %}
    <div class="col" name="char_spells" id="char_spells">
        <h2 id="mainFeaturesHeader" name="mainFeaturesHeader">Features</h2>
    </div>
    {% endif %}
    <!-- NOTES:
        Having spells divied by level seems like the most sensible way to display them
        might as well show the spell-casting attribute for the spell since it's cute
        Spell descriptions will be added later, spell attack/spell save DC is kinda pointless without spell descriptions
        a nice accordion with a table view of all spells? That seems good.
    -->


    {% if pc_char.has_int_spells %}
    <h1>IS WIZARD</h1>
    {% endif %}
    {% if pc_char.has_int_spells or pc_char.has_wis_spells or pc_char.has_cha_spells %}
    <h2>IS SPELL-CASTER</h2>
    {% endif %}
    {% if pc_char.has_int_spells %}
    <h2>INTELLIGENT</h2>
    {% endif %}
    {% if pc_char.has_wis_spells %}
    <h2>WISE</h2>
    {% endif %}
    {% if pc_char.has_cha_spells %}
    <h2>CHARISMATIC</h2>
    {% endif %}
</div>
<script type="module">
    let features_response = await fetch('/view_char_features');
    let features_list = await features_response.json();
    console.log(features_list)
    document.getElementById("mainFeaturesHeader").insertAdjacentHTML("beforeend",features_list)
</script>


{% endblock %}

{% block footer %}{% endblock %}