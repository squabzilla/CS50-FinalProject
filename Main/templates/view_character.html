{% extends "layout.html" %}

{% block title %}Character View{% endblock %}

{% block header %}<h1>View your Character</h1>{% endblock %}

{% block main %}
<div class="container text-center">
    <div class="row align-items-start">
        <div class="col" name="character_basics" id="character_basics">
            <h2>Character name: {{pc_char.name}}</h2>
            <p>Race: {{pc_char.race_name}}</p>
            <p>Class: {{pc_char.level1_class_name}}</p>
            <p>Background: {{pc_char.background_name}}</p>
        </div>
        <div class="col" name="ability_scores" id="ability_scores">
            <h2>Ability Scores</h2>
            <p>Strength: {{pc_char.str_score}}</p>
            <p>Dexterity: {{pc_char.dex_score}}</p>
            <p>Constitution: {{pc_char.con_score}}</p>
            <p>Intelligence: {{pc_char.int_score}}</p>
            <p>Wisdom: {{pc_char.wis_score}}</p>
            <p>Charisma: {{pc_char.cha_score}}</p>
        </div>
    </div>
    <br>
    <div class="col" name="char_features" id="char_features">
        <h2 id="mainFeaturesHeader" name="mainFeaturesHeader">Features</h2>
    </div>
    {% if pc_char.list_cantrips != [] %}
    <h2>Spells</h2>
    <div class="accordion" id="accordionSpells">
        <div class="accordion-item"> <!-- cantrips -->
            <h2 class="accordion-header">
                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSpellsZero" aria-expanded="false" aria-controls="collapseSpellsZero">
                    Cantrips
                </button>
            </h2>
            <div id="collapseSpellsZero" class="accordion-collapse collapse" data-bs-parent="#accordionSpells">
                <div class="accordion-body">
                    <p>This will be cantrips.</p>
                </div>
            </div>
        </div>
        {% if pc_char.list_1stlvlSpells != [] %}
        <div class="accordion-item"> <!-- 1stLevelSpells -->
            <h2 class="accordion-header">
                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSpellsOne" aria-expanded="false" aria-controls="collapseSpellsOne">
                    First-level Spells
                </button>
            </h2>
            <div id="collapseSpellsOne" class="accordion-collapse collapse" data-bs-parent="#accordionSpells">
                <div class="accordion-body">
                    <p>First-level spells will go here.</p>
                </div>
            </div>
        </div><!-- end 1stLevelSpells -->
        {% endif %}
        {% if pc_char.list_2ndlvlSpells != [] %}
        <div class="accordion-item"> <!-- 2ndLevelSpells -->
            <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSpellsTwo" aria-expanded="false" aria-controls="collapseSpellsTwo">
                    Second-level Spells
                </button>
            </h2>
            <div id="collapseSpellsTwo" class="accordion-collapse collapse" data-bs-parent="#accordionSpells">
                <div class="accordion-body">
                    <p>Second-level spells will go here.</p>
                </div>
            </div>
        </div> <!-- end 2ndLevelSpells -->
        {% endif %}
        {% if pc_char.list_3rdlvlSpells != [] %}
        <div class="accordion-item"><!-- 3rdLevelSpells -->
            <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSpellsThree" aria-expanded="false" aria-controls="collapseSpellsThree">
                    Third-level Spells
                </button>
            </h2>
            <div id="collapseSpellsThree" class="accordion-collapse collapse" data-bs-parent="#accordionSpells">
                <div class="accordion-body">
                    <p>Third-level spells will go here.</p>
                </div>
            </div>
        </div> <!-- end 3rdLevelSpells -->
        {% endif %}
        {% if pc_char.list_4thlvlSpells != [] %}
        <div class="accordion-item"><!-- 4thLevelSpells -->
            <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSpellsFour" aria-expanded="false" aria-controls="collapseSpellsFour">
                    Fourth-level Spells
                </button>
            </h2>
            <div id="collapseSpellsFour" class="accordion-collapse collapse" data-bs-parent="#accordionSpells">
                <div class="accordion-body">
                    <p>Fourth-level spells will go here.</p>
                </div>
            </div>
        </div> <!-- end 4thLevelSpells -->
        {% endif %}
        {% if pc_char.list_5thlvlSpells != [] %}
        <div class="accordion-item"><!-- 5thLevelSpells -->
            <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSpellsFive" aria-expanded="false" aria-controls="collapseSpellsFive">
                    Fifth-level Spells
                </button>
            </h2>
            <div id="collapseSpellsFive" class="accordion-collapse collapse" data-bs-parent="#accordionSpells">
                <div class="accordion-body">
                    <p>Fifth-level spells will go here.</p>
                </div>
            </div>
        </div> <!-- end 5thLevelSpells -->
        {% endif %}
        {% if pc_char.list_6thlvlSpells != [] %}
        <div class="accordion-item"><!-- 6thLevelSpells -->
            <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSpellsSix" aria-expanded="false" aria-controls="collapseSpellsSix">
                    Sixth-level Spells
                </button>
            </h2>
            <div id="collapseSpellsSix" class="accordion-collapse collapse" data-bs-parent="#accordionSpells">
                <div class="accordion-body">
                    <p>Sixth-level spells will go here.</p>
                </div>
            </div>
        </div> <!-- end 6thLevelSpells -->
        {% endif %}
        {% if pc_char.list_7thlvlSpells != [] %}
        <div class="accordion-item"><!-- 7thLevelSpells -->
            <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSpellsSeven" aria-expanded="false" aria-controls="collapseSpellsSeven">
                    Seventh-level Spells
                </button>
            </h2>
            <div id="collapseSpellsSeven" class="accordion-collapse collapse" data-bs-parent="#accordionSpells">
                <div class="accordion-body">
                    <p>Seventh-level spells will go here.</p>
                </div>
            </div>
        </div> <!-- end 7thLevelSpells -->
        {% endif %}
        {% if pc_char.list_8thlvlSpells != [] %}
        <div class="accordion-item"><!-- 8thLevelSpells -->
            <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSpellsEight" aria-expanded="false" aria-controls="collapseSpellsEight">
                    Eighth-level Spells
                </button>
            </h2>
            <div id="collapseSpellsEight" class="accordion-collapse collapse" data-bs-parent="#accordionSpells">
                <div class="accordion-body">
                    <p>Eighth-level spells will go here.</p>
                </div>
            </div>
        </div> <!-- end 8thLevelSpells -->
        {% endif %}
        {% if pc_char.list_9thlvlSpells != [] %}
        <div class="accordion-item"><!-- 9thLevelSpells -->
            <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSpellsNine" aria-expanded="false" aria-controls="collapseSpellsNine">
                    Ninth-level Spells
                </button>
            </h2>
            <div id="collapseSpellsNine" class="accordion-collapse collapse" data-bs-parent="#accordionSpells">
                <div class="accordion-body">
                    <p>Ninth-level spells will go here.</p>
                </div>
            </div>
        </div> <!-- end 9thLevelSpells -->
        {% endif %}
    </div>
    {% endif %}
    <!-- NOTES:
        Having spells divied by level seems like the most sensible way to display them
        might as well show the spell-casting attribute for the spell since it's cute
        Spell descriptions will be added later, spell attack/spell save DC is kinda pointless without spell descriptions
        a nice accordion with a table view of all spells? That seems good.
    -->


    {% if pc_char.has_int_spells %}
    <h1>IS WIZARD</h1>
    {% endif %}
    {% if pc_char.has_int_spells or pc_char.has_wis_spells or pc_char.has_cha_spells %}
    <h2>IS SPELL-CASTER</h2>
    {% endif %}
    {% if pc_char.has_int_spells %}
    <h2>INTELLIGENT</h2>
    {% endif %}
    {% if pc_char.has_wis_spells %}
    <h2>WISE</h2>
    {% endif %}
    {% if pc_char.has_cha_spells %}
    <h2>CHARISMATIC</h2>
    {% endif %}
</div>
<script type="module">
    let features_response = await fetch('/view_char_features');
    let features_list = await features_response.json();
    console.log(features_list)
    document.getElementById("mainFeaturesHeader").insertAdjacentHTML("afterend",features_list)
</script>


{% endblock %}

{% block footer %}{% endblock %}